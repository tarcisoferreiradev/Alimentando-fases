!function(){let e=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(t,a,n){("touchstart"===t||"touchmove"===t||"wheel"===t)&&("object"==typeof n?n.passive=!0:"boolean"==typeof n||(n={passive:!0})),e.call(this,t,a,n)}}(),history.scrollRestoration&&(history.scrollRestoration="manual");const preGeneratedAudios={quemsomos:"audios/quemsomos.m4a","origem-alimentar":"audios/origemalimentar.m4a",infancia:"audios/infancia.m4a",adolescencia:"audios/adolescencia.m4a",adulto:"audios/adultos.m4a",idoso:"audios/idosos.m4a",higiene:"audios/higiene.m4a",rotulagem:"audios/rotulagem.m4a",acoes:"audios/acoes.m4a"};let currentAudio=null;const burger=document.querySelector(".main-header__burger"),navWrapper=document.querySelector(".main-header__navigation-wrapper");function toggleMobileMenu(){burger&&navWrapper&&(burger.classList.toggle("active"),navWrapper.classList.toggle("open"))}function closeMobileMenu(){burger&&navWrapper&&(burger.classList.remove("active"),navWrapper.classList.remove("open"))}burger&&burger.addEventListener("click",toggleMobileMenu);const menuItems=document.querySelectorAll(".main-header__list-item.has-submenu"),mainHeader=document.querySelector(".main-header"),handleSubmenuLinkHover=e=>{let t=e.currentTarget,a=t.closest(".main-header__list-item.has-submenu");if(!a)return;let n=a.querySelectorAll(".submenu-list__item.has-submenu"),o=a.querySelectorAll(".submenu-content");n.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")),t.classList.add("active");let i=t.querySelector(".submenu-list__item-title");if(i){let s=i.textContent,l=a.querySelector(`.submenu-content[data-submenu-for="${s}"]`);l&&l.classList.add("active")}};function closeMenu(e){e.classList.remove("js-hover"),e.classList.add("is-closing");let t=e.querySelectorAll(".submenu-list__item.has-submenu");t.forEach(e=>{e.removeEventListener("mouseenter",handleSubmenuLinkHover)});let a=document.querySelector(".main-header__burger");if(a&&"flex"===getComputedStyle(a).display){let n=e.querySelector(".submenu-wrapper");n&&(n.style.maxHeight=null)}}function openMenu(e){e.classList.remove("is-closing"),e.classList.add("js-hover");let t=document.querySelector(".main-header__burger");if(t&&"flex"===getComputedStyle(t).display){let a=e.querySelector(".submenu-wrapper");a&&(a.style.maxHeight=a.scrollHeight+"px")}let n=e.querySelectorAll(".submenu-list__item.has-submenu"),o=e.querySelectorAll(".submenu-content"),i=document.querySelector(".main-header__burger");i&&"none"!==getComputedStyle(i).display||setTimeout(()=>{if(n.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")),n.length>0){let t=n[0];t.classList.add("active");let a=t.querySelector(".submenu-list__item-title");if(a){let i=a.textContent,s=e.querySelector(`.submenu-content[data-submenu-for="${i}"]`);s&&s.classList.add("active")}}},0),n.forEach(e=>{e.addEventListener("mouseenter",handleSubmenuLinkHover),e.addEventListener("click",t=>{let a=document.querySelector(".main-header__burger");if(a&&"flex"!==getComputedStyle(a).display){let n=e.closest(".main-header__list-item.has-submenu");n&&closeMenu(n);return}closeMobileMenu();let o=e.closest(".main-header__list-item.has-submenu");o&&closeMenu(o)})})}menuItems.forEach(e=>{let t=e.querySelector(":scope > a"),a=e.querySelector(".submenu-wrapper");if(!t||!a)return;t.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();let a=e.classList.contains("js-hover");if(menuItems.forEach(t=>{t!==e&&closeMenu(t)}),a)closeMenu(e);else{openMenu(e);let n=document.querySelector(".main-header__burger");navWrapper&&n&&"flex"===getComputedStyle(n).display&&setTimeout(()=>{let t=e.offsetTop,a=parseFloat(window.getComputedStyle(navWrapper).paddingTop)||0;navWrapper.scrollTo({top:t-a,behavior:"smooth"})},50)}}),a.addEventListener("click",e=>{e.stopPropagation()});let n=Array.from(e.querySelectorAll("a, button"));if(n.length>0){let o=n[n.length-1],i=n[0];i.addEventListener("keydown",t=>{t.shiftKey&&"Tab"===t.key&&closeMenu(e)}),o.addEventListener("keydown",t=>{t.shiftKey||"Tab"!==t.key||closeMenu(e)}),e.addEventListener("focusout",t=>{e.contains(t.relatedTarget)||closeMenu(e)})}}),document.addEventListener("click",e=>{menuItems.forEach(e=>{closeMenu(e)})});const navLinks=document.querySelectorAll(".nav-link"),pages=document.querySelectorAll(".page-content"),appContainer=document.getElementById("app-container");function navigateTo(e,t=null){window.scrollTo({top:0,behavior:"instant"}),pages.forEach(e=>e.classList.remove("active"));let a=document.getElementById(e);if(a?a.classList.add("active"):(e="home",document.getElementById("home").classList.add("active")),setupTextToSpeech(),"home"===e?setupHeroCarousel():"adolescencia"===e?"undefined"!=typeof WordSearchGame&&WordSearchGame.init&&setTimeout(()=>{WordSearchGame.init()},100):"infancia"===e?void 0!==EmbeddedClassifyGame&&EmbeddedClassifyGame.init&&setTimeout(()=>{EmbeddedClassifyGame.init()},100):"receitas"===e?void 0!==setupRecipeFilters&&setTimeout(()=>{setupRecipeFilters()},100):"adulto"===e?(setupSnackPlanner(),animateChartBars()):"idoso"===e?setupHydrationCalculator():"higiene"===e?setupHandwashGuide():"origem-alimentar"===e?setupOriginMap():"agenda"===e?setTimeout(()=>{FullPageCalendar.init()},100):"mural-natal"===e&&void 0!==setupWishMural&&setTimeout(()=>{setupWishMural()},100),t){let n=document.querySelector(t);n?setTimeout(()=>{let e=n.getBoundingClientRect().top,t=e+window.pageYOffset-90;window.scrollTo({top:t,behavior:"smooth"})},50):window.scrollTo({top:0,behavior:"smooth"})}else window.scrollTo({top:0,behavior:"smooth"});closeMobileMenu(),menuItems&&menuItems.forEach(e=>{closeMenu(e)}),"undefined"!=typeof ScrollTrigger&&window.innerWidth>1024&&setTimeout(()=>{ScrollTrigger.refresh()},10)}function generateSpeechContent(e,t){let a=document.getElementById(e);if(!a)return;let n=window.speechSynthesis;if(n.speaking){n.cancel(),t.innerHTML='<i class="fa-solid fa-volume-up"></i> Ler Conte\xfado';return}let o=a.querySelectorAll(".topic-content, .section-description, .pullquote, .quiz-pergunta, .card_content h2, .card_content h5"),i="";if(o.forEach(e=>{e.textContent.trim().length>0&&e.offsetHeight>0&&(i+=e.textContent.trim()+". ")}),i){let s=new SpeechSynthesisUtterance(i);s.lang="pt-BR",t.innerHTML='<i class="fa-solid fa-stop-circle"></i> Parar Leitura',s.onend=()=>{t.innerHTML='<i class="fa-solid fa-volume-up"></i> Ler Conte\xfado'},n.speak(s)}else alert("Nenhum texto leg\xedvel encontrado nesta se\xe7\xe3o.")}function playAudioContent(e,t){let a=window.speechSynthesis;a.speaking&&a.cancel(),currentAudio||(currentAudio=new Audio),currentAudio.src.endsWith(e)&&currentAudio.readyState>=1?currentAudio.paused?currentAudio.play():currentAudio.pause():(currentAudio.src=e,currentAudio.load(),currentAudio.play().catch(e=>console.error("Erro ao tentar reproduzir o \xe1udio:",e)));let n=()=>{currentAudio.paused||currentAudio.ended?(t.innerHTML='<i class="fa-solid fa-volume-up"></i> Ler Conte\xfado',t.classList.remove("playing")):(t.innerHTML='<i class="fa-solid fa-stop-circle"></i> Parar Leitura',t.classList.add("playing"))};currentAudio.onplay=n,currentAudio.onpause=n,currentAudio.onended=n,n()}function readPageContent(e,t){let a=preGeneratedAudios[e];a?playAudioContent(a,t):generateSpeechContent(e,t)}function setupTextToSpeech(){let e=document.querySelectorAll("#infancia, #adolescencia, #adulto, #idoso, #quemsomos, #origem-alimentar, #higiene, #rotulagem, #acoes");e.forEach(e=>{let t=e.querySelector(".content-section");if(t&&!e.querySelector(".read-aloud-button-wrapper")){let a=document.createElement("button");a.classList.add("cta-link","read-aloud-button"),a.innerHTML='<i class="fa-solid fa-volume-up"></i> Ler Conte\xfado',a.setAttribute("aria-label","Clique para ler o conte\xfado completo desta p\xe1gina");let n=document.createElement("div");n.classList.add("read-aloud-button-wrapper"),n.appendChild(a);let o=e.querySelector(".section-description")||e.querySelector(".topic-container");o&&(o.parentNode.insertBefore(n,o),a.addEventListener("click",()=>{readPageContent(e.id,a)}))}})}function setupHeroCarousel(){let e=document.querySelectorAll(".hero-slide"),t=document.querySelectorAll(".carousel-dots button"),a=document.querySelector(".carousel-nav.prev"),n=document.querySelector(".carousel-nav.next");if(e.length<=1){a&&(a.style.display="none"),n&&(n.style.display="none"),t.length>0&&(document.querySelector(".carousel-dots").style.display="none");return}let o=0,i;function s(a){a>=e.length&&(a=0),a<0&&(a=e.length-1),e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),e[a].classList.add("active"),t[a].classList.add("active"),o=a}function l(){s(o+1)}function r(){i=setInterval(l,5e3)}function d(){clearInterval(i),r()}n&&n.addEventListener("click",()=>{l(),d()}),a&&a.addEventListener("click",()=>{s(o-1),d()}),t.forEach((e,t)=>{e.addEventListener("click",()=>{s(t),d()})}),s(0),r()}function animateChartBars(){let e=document.querySelectorAll(".interactive-chart");e.forEach(e=>{let t=e.querySelectorAll(".chart-bar");"undefined"!=typeof gsap&&window.innerWidth>1024?(gsap.set(t,{width:"0%",autoAlpha:1}),ScrollTrigger.create({trigger:e,start:"top 80%",once:!0,onEnter(){gsap.to(t,{duration:1.5,width:(e,t)=>t.dataset.value.replace(",",".")+"%",ease:"power2.out",stagger:.1})}})):t.forEach(e=>{e.style.width=e.dataset.value.replace(",",".")+"%",e.style.opacity="1"})})}if(document.addEventListener("navigateRequest",e=>{let{pageId:t,anchorId:a}=e.detail;t&&navigateTo(t,a)}),navLinks.forEach(e=>{e.addEventListener("click",t=>{let a=e.dataset.page;if(!a)return;t.preventDefault();let n=e.getAttribute("href"),o=null;n&&n.startsWith("#")&&n.length>1&&(o=n),navigateTo(a,o),closeMobileMenu(),menuItems&&menuItems.forEach(e=>{closeMenu(e)})})}),"undefined"!=typeof gsap){if(window.innerWidth<=1024){let e=document.querySelectorAll(".gs_reveal");e.forEach(e=>{e.classList.remove("gs_reveal"),e.style.opacity="1",e.style.visibility="visible",e.style.transform="none"});let t=document.querySelectorAll(".topic-block");t.forEach(e=>{e.style.opacity="1",e.style.visibility="visible",e.style.transform="none"})}else{function a(e,t=1,a=50){gsap.fromTo(e,{y:t*a,autoAlpha:0},{duration:1.25,y:0,autoAlpha:1,ease:"expo.out",overwrite:"auto"})}function n(e){gsap.set(e,{autoAlpha:0})}gsap.registerPlugin(ScrollTrigger),gsap.utils.toArray(".gs_reveal").forEach(function(e){if(n(e),e.classList.contains("gs_reveal_fromLeft")||e.classList.contains("gs_reveal_fromRight")){let t=e.classList.contains("gs_reveal_fromLeft")?-100:100;ScrollTrigger.create({trigger:e,start:"top 85%",once:!0,onEnter(){gsap.fromTo(e,{x:t,autoAlpha:0},{duration:1.25,x:0,autoAlpha:1,ease:"expo.out",overwrite:"auto"})}});return}ScrollTrigger.create({trigger:e,start:"top 85%",once:!0,onEnter:()=>a(e,1,50),markers:!1})});let o=gsap.utils.toArray("#adolescencia .topic-block");o.length>0&&(gsap.set(o,{autoAlpha:0,y:50}),ScrollTrigger.create({trigger:"#adolescencia .topic-container",start:"top 75%",end:"bottom 25%",markers:!1,onEnter(){gsap.to(o,{duration:.8,autoAlpha:1,y:0,stagger:.15,ease:"power2.out",overwrite:"auto"})},onLeaveBack(){gsap.set(o,{autoAlpha:0,y:50})}}))}}const carouselWrapperNutrients=document.querySelector("#adolescencia .carousel-wrapper"),gridNutrients=document.querySelector("#adolescencia .grid-nutrients"),cardsNutrients=document.querySelectorAll("#adolescencia .flip-card"),prevButtonNutrients=document.querySelector("#adolescencia .prev-card"),nextButtonNutrients=document.querySelector("#adolescencia .next-card");if(carouselWrapperNutrients&&gridNutrients&&cardsNutrients.length>0&&prevButtonNutrients&&nextButtonNutrients){let i=0,s=cardsNutrients.length,l=parseFloat(window.getComputedStyle(gridNutrients).gap)||30;function r(){return cardsNutrients.length>0?cardsNutrients[0].offsetWidth:0}function d(){let e=r();if(0===e){setTimeout(d,100);return}let t=carouselWrapperNutrients.clientWidth,a=Math.max(0,s-Math.max(1,Math.floor((t+l)/(e+l))));i>a&&(i=a);let n=Math.max(0,e*s+l*(s-1)-t),o=i*(e+l);o>n&&(o=n),gridNutrients.style.transform=`translateX(-${o}px)`,gridNutrients.style.transition="transform 0.5s ease-out",prevButtonNutrients.disabled=0===i,nextButtonNutrients.disabled=o>=n-1}prevButtonNutrients.addEventListener("click",()=>{i>0&&(i--,d())}),nextButtonNutrients.addEventListener("click",()=>{nextButtonNutrients.disabled||(i++,d())}),window.addEventListener("resize",()=>{gridNutrients.style.transition="none",d()}),setTimeout(d,50)}else prevButtonNutrients&&nextButtonNutrients&&(prevButtonNutrients.style.display="none",nextButtonNutrients.style.display="none");function showGameCover(){document.body.classList.remove("game-modal-open"),document.querySelectorAll(".game-container-wrapper").forEach(e=>{e.classList.remove("active")}),document.querySelectorAll(".game-modal-overlay").forEach(e=>{e.classList.remove("active")})}function launchGame(e,t){document.body.classList.add("game-modal-open"),document.querySelectorAll(".game-container-wrapper").forEach(t=>{t.id!==e&&t.classList.remove("active")});let a=document.getElementById(e);if(a){a.classList.add("active");let n=a.querySelector(".game-area");if(n&&n.classList.add("active"),t&&"function"==typeof t)try{t()}catch(o){console.error(`Erro ao inicializar o jogo ${e}:`,o),showGameCover()}}else document.body.classList.remove("game-modal-open")}function setupHydrationCalculator(){let e=document.getElementById("hydration-calculator");if(!e)return;let t=document.getElementById("btn-peso-menos"),a=document.getElementById("btn-peso-mais"),n=document.getElementById("display-peso"),o=document.querySelectorAll(".age-button"),i=document.getElementById("calcHidratacaoBtn"),s=document.getElementById("calcLitros"),l=document.getElementById("calcCopos"),r=document.getElementById("calc-disclaimer"),d=70,c=30,u=null;function m(){n&&(n.textContent=d)}t&&t.addEventListener("click",()=>{d>20&&(d--,m())}),a&&a.addEventListener("click",()=>{d<200&&(d++,m())}),o.forEach(e=>{e.addEventListener("click",()=>{o.forEach(e=>e.classList.remove("active")),e.classList.add("active"),c=parseInt(e.dataset.value,10)})}),i&&i.addEventListener("click",()=>{let e=d*c,t=e/1e3,a=Math.ceil(e/250);if("undefined"!=typeof gsap){let n={value:0};if(s&&s.textContent){let o=parseFloat(s.textContent.split(" ")[0].replace(",","."));isNaN(o)||(n.value=o)}if(u&&u.kill(),u=gsap.to(n,{duration:1.2,value:t,ease:"power2.out",onUpdate(){s&&(s.textContent=`${n.value.toFixed(2).replace(".",",")} Litros`)},onComplete(){u=null}}),l){l.innerHTML="";let i=[];if(a>0){for(let m=0;m<a;m++){let g=document.createElement("i");g.className="fa-solid fa-droplet",m<15&&(l.appendChild(g),i.push(g))}if(a>15){let f=document.createElement("span");f.textContent=` +${a-15}`,f.style.fontSize="0.7em",f.style.fontWeight="bold",f.style.marginLeft="5px",l.appendChild(f)}}gsap.fromTo(i,{opacity:0,scale:.5,y:-10},{duration:.3,opacity:1,scale:1,y:0,ease:"back.out(1.7)",stagger:.08,delay:.2})}}else if(s&&(s.textContent=`${t.toFixed(2).replace(".",",")} Litros`),l&&(l.innerHTML="",a>0))for(let p=0;p<a;p++);r&&(r.style.display="none")}),m()}function setupSnackPlanner(){let e=document.querySelectorAll(".planner-day"),t=document.getElementById("snack-selector-modal"),a=document.getElementById("snack-modal-title"),n=document.querySelectorAll(".snack-option-btn"),o=document.querySelector("#snack-selector-modal .game-close-btn"),i=document.getElementById("planner-reset-btn"),s=document.getElementById("planner-download-btn");if(0===e.length||!t||0===n.length||!i||!s)return;let l=null,r={seg:"Segunda-feira",ter:"Ter\xe7a-feira",qua:"Quarta-feira",qui:"Quinta-feira",sex:"Sexta-feira",sab:"S\xe1bado",dom:"Domingo"};function d(){t.classList.remove("active"),document.body.classList.remove("game-modal-open"),l=null}e.forEach(e=>{e.addEventListener("click",()=>{!function e(n){l=n;let o=l.dataset.day;a.textContent=`Escolha seu lanche para: ${r[o]}`,t.classList.add("active"),document.body.classList.add("game-modal-open")}(e)})}),n.forEach(e=>{e.addEventListener("click",()=>{if(l){let t=e.dataset.snack,a=l.querySelector(".planner-choice span");l.classList.remove("filled","off-day"),l.querySelector(".planner-choice i").style.display="block","Folga"===t?(a.textContent=t,l.classList.add("off-day"),l.querySelector(".planner-choice i").style.display="none"):t?(a.textContent=t,l.classList.add("filled"),l.querySelector(".planner-choice i").style.display="none"):a.textContent="Clique para escolher"}d()})}),o.addEventListener("click",d),t.addEventListener("click",e=>{e.target===t&&d()}),i.addEventListener("click",()=>{e.forEach(e=>{e.querySelector(".planner-choice span").textContent="Clique para escolher",e.querySelector(".planner-choice i").style.display="block",e.classList.remove("filled","off-day")})}),s.addEventListener("click",function t(){let a=new Date().toLocaleDateString("pt-BR"),n="=== Meu Plano Semanal de Lanches (Alimentando Fases) ===\n";n+=`Gerado em: ${a}

`;let o=!0;if(e.forEach(e=>{let t=e.querySelector("h5").textContent,a=e.querySelector(".planner-choice span").textContent,i=`${t}: `;e.classList.contains("filled")?(i+=a+" (Lanche Inteligente)",o=!1):e.classList.contains("off-day")?(i+=a+" (Dia de Descanso)",o=!1):i+="N\xe3o Planejado",n+=i+"\n"}),o){alert("O plano est\xe1 vazio! Escolha suas op\xe7\xf5es antes de baixar.");return}n+="\n========================================================\n",n+="Lembre-se: Hidrata\xe7\xe3o e planejamento s\xe3o a chave para o sucesso na rotina adulta!";let i=new Blob([n],{type:"text/plain;charset=utf-8"}),s=URL.createObjectURL(i),l=document.createElement("a");l.href=s,l.download=`Plano_Lanches_Semana_${a.replace(/\//g,"-")}.txt`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)})}function triggerConfetti(e){if("function"!=typeof confetti||!e){console.warn("Biblioteca de confete n\xe3o carregada ou modal inv\xe1lido.");return}let t=e.querySelector(".win-icon");setTimeout(()=>{let e={y:.6,x:.5};if(t){let a=t.getBoundingClientRect();a.width>0&&a.height>0&&(e={x:(a.left+a.width/2)/window.innerWidth,y:(a.top+a.height/2)/window.innerHeight})}confetti({particleCount:150,spread:90,colors:["#53954a","#6e513d","#f9efd4","#FFFFFF"],origin:e,zIndex:3e3})},450)}document.querySelector("#classify-game-area-embedded .game-restart-btn")?.addEventListener("click",()=>{void 0!==EmbeddedClassifyGame&&EmbeddedClassifyGame.init&&EmbeddedClassifyGame.init()});const EmbeddedClassifyGame={foodItemsData:[{name:"Ma\xe7\xe3",imageSrc:"Imagens/maca.webp",category:"natura"},{name:"Br\xf3colis",imageSrc:"Imagens/brocolis.webp",category:"natura"},{name:"Arroz",imageSrc:"Imagens/arroz.webp",category:"natura"},{name:"P\xe3o Franc\xeas",imageSrc:"Imagens/pao.webp",category:"processado"},{name:"Queijo",imageSrc:"Imagens/queijo.webp",category:"processado"},{name:"Geleia",imageSrc:"Imagens/geleia.webp",category:"processado"},{name:"Salgadinho",imageSrc:"Imagens/salgadinho.webp",category:"ultra"},{name:"Refrigerante",imageSrc:"Imagens/refri.webp",category:"ultra"},{name:"Bolacha Recheada",imageSrc:"Imagens/bolacha.webp",category:"ultra"},{name:"Nuggets",imageSrc:"Imagens/nuggets.webp",category:"ultra"},],gameArea:null,foodBank:null,dropZones:null,scoreDisplay:null,winModal:null,remainingItems:0,draggedItemElement:null,init:function(){if(this.gameArea=document.getElementById("classify-game-area-embedded"),this.foodBank=this.gameArea?.querySelector(".classify-food-bank"),this.dropZones=this.gameArea?.querySelectorAll(".classify-zone"),this.scoreDisplay=document.getElementById("classify-score-embedded"),this.winModal=document.getElementById("classify-win-modal"),!this.gameArea||!this.foodBank||!this.dropZones||!this.scoreDisplay){console.error("Elementos do DOM do Jogo de Classificar EMBUTIDO n\xe3o encontrados.");return}this.resetGame(),this.winModal&&this.winModal.classList.remove("active"),this.foodBank.innerHTML="",this.dropZones.forEach(e=>{e.classList.remove("correct","incorrect","over"),e.removeEventListener("dragover",this.handleDragOver.bind(this)),e.removeEventListener("dragleave",this.handleDragLeave.bind(this)),e.removeEventListener("drop",this.handleDrop.bind(this))});let e=this.shuffleArray([...this.foodItemsData]);e.forEach(e=>{let t=this.createFoodItemElement(e);this.foodBank.appendChild(t)}),this.remainingItems=e.length,this.updateScore(),this.dropZones.forEach(e=>{e.addEventListener("dragover",this.handleDragOver.bind(this)),e.removeEventListener("dragleave",this.handleDragLeave.bind(this)),e.addEventListener("drop",this.handleDrop.bind(this))})},createFoodItemElement:function(e){let t=document.createElement("div");return t.classList.add("classify-food-item"),t.draggable=!0,t.dataset.name=e.name,t.innerHTML=`<img src="${e.imageSrc}" alt="${e.name}">`,t.addEventListener("dragstart",this.handleDragStart.bind(this)),t.addEventListener("dragend",this.handleDragEnd.bind(this)),t},handleDragStart:function(e){let t=e.target.closest(".classify-food-item");t&&(this.draggedItemElement=t,e.dataTransfer.setData("text/plain",t.dataset.name),setTimeout(()=>t.classList.add("dragging"),0))},handleDragEnd:function(e){let t=e.target.closest(".classify-food-item");t&&(t.classList.remove("dragging"),this.draggedItemElement=null)},handleDragOver:function(e){e.preventDefault();let t=e.target.closest(".classify-zone");t&&t.classList.add("over")},handleDragLeave:function(e){let t=e.target.closest(".classify-zone");t&&t.classList.remove("over")},handleDrop:function(e){e.preventDefault();let t=e.target.closest(".classify-zone");if(!t||!this.draggedItemElement)return;let a=e.dataTransfer.getData("text/plain"),n=t.dataset.category,o=this.foodItemsData.find(e=>e.name===a);t.classList.remove("over"),o&&o.category===n?(t.classList.add("correct"),this.draggedItemElement.classList.add("hide"),this.draggedItemElement.draggable=!1,this.remainingItems--,this.updateScore(),this.checkWinCondition(),setTimeout(()=>t.classList.remove("correct"),500)):(t.classList.add("incorrect"),setTimeout(()=>t.classList.remove("incorrect"),500)),this.draggedItemElement=null},updateScore:function(){this.scoreDisplay&&(this.scoreDisplay.textContent=`Itens restantes: ${this.remainingItems}`)},checkWinCondition:function(){0===this.remainingItems&&this.showWinModal()},showWinModal:function(){this.winModal&&(this.winModal.classList.add("active"),triggerConfetti(this.winModal))},resetGame:function(){this.remainingItems=0,this.draggedItemElement=null,this.dropZones&&this.dropZones.forEach(e=>e.classList.remove("correct","incorrect","over"))},shuffleArray:function(e){for(let t=e.length-1;t>0;t--){let a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return e}};function setupHandwashGuide(){let e=[{icon:"fa-faucet",title:"Passo 1 de 5",text:"Molhe as m\xe3os com \xe1gua corrente."},{icon:"fa-pump-soap",title:"Passo 2 de 5",text:"Aplique sab\xe3o suficiente para cobrir toda a superf\xedcie das m\xe3os."},{icon:"fa-hand-sparkles",title:"Passo 3 de 5",text:"Esfregue as m\xe3os por pelo menos 20 segundos (palmas, costas, dedos, unhas e punhos)."},{icon:"fa-faucet-drip",title:"Passo 4 de 5",text:"Enx\xe1gue as m\xe3os completamente com \xe1gua corrente."},{icon:"fa-scroll",title:"Passo 5 de 5",text:"Seque as m\xe3os com uma toalha limpa ou secador de m\xe3os."}],t=document.querySelector(".handwash-guide");if(!t)return;let a=document.getElementById("btn-prev-step"),n=document.getElementById("btn-next-step"),o=document.getElementById("step-counter"),i=t.querySelector(".guide-icon i"),s=t.querySelector(".guide-step-title"),l=t.querySelector(".guide-step-text"),r=0;function d(t){let r=e[t];l.classList.add("fade-out"),i.classList.add("fade-out"),setTimeout(()=>{i.className=`fa-solid ${r.icon}`,s.textContent=r.title,l.textContent=r.text,o.textContent=`${t+1} / ${e.length}`,a.disabled=0===t,n.disabled=t===e.length-1,l.classList.remove("fade-out"),i.classList.remove("fade-out")},300)}n.addEventListener("click",()=>{r<e.length-1&&d(++r)}),a.addEventListener("click",()=>{r>0&&d(--r)})}const originMapData={indigena:{title:"Matriz Ind\xedgena",imageSrc:"Imagens/icone-indigena.webp",altText:"\xcdcone da Matriz Ind\xedgena",color:"var(--color-primary)",bgColor:"#f0fdf4",items:[{icon:"fa-seedling",text:"Mandioca (Farinha, Beiju, Polvilho)"},{icon:"fa-mortar-pestle",text:"Pa\xe7oca (Mistura original)"},{icon:"fa-apple-whole",text:"Frutos Nativos (A\xe7a\xed, Pequi, Cupua\xe7u)"},{icon:"fa-leaf",text:"Conhecimento da Terra e das Esta\xe7\xf5es"}]},portuguesa:{title:"Matriz Portuguesa",imageSrc:"Imagens/icone-portuguesa.webp",altText:"\xcdcone da Matriz Portuguesa",color:"var(--color-secondary)",bgColor:"var(--color-background)",items:[{icon:"fa-utensils",text:"Adapta\xe7\xe3o de Pratos (Ex: Feijoada)"},{icon:"fa-wheat-awn",text:"Introdu\xe7\xe3o do Arroz"},{icon:"fa-wine-bottle",text:"Azeite de Oliva, Alho e Cebola"},{icon:"fa-users",text:"H\xe1bito do Almo\xe7o de Domingo"}]},africana:{title:"Matriz Africana",imageSrc:"Imagens/icone-africana.webp",altText:"\xcdcone da Matriz Africana",color:"#d97706",bgColor:"#fffbeb",items:[{icon:"fa-oil-can",text:"Azeite de Dend\xea"},{icon:"fa-mug-hot",text:"Leite de Coco"},{icon:"fa-drumstick-bite",text:"Vatap\xe1 e Caruru"},{icon:"fa-mug-hot",text:"Adapta\xe7\xe3o da Canjica (Kanzika)"}]}};function closeOriginModal(){let e=document.getElementById("origin-modal");e&&(e.classList.remove("active"),document.body.classList.remove("game-modal-open"))}function populateOriginModal(e){let t=document.getElementById("origin-modal");if(!t)return;let a=t.querySelector(".game-modal-content"),n=document.getElementById("origin-modal-title"),o=document.getElementById("origin-modal-icon"),i=document.getElementById("origin-modal-list");n.textContent=e.title,o.src=e.imageSrc,o.alt=e.altText,i.innerHTML="",e.items.forEach(e=>{let t=document.createElement("li");t.innerHTML=`<i class="fa-solid ${e.icon}" aria-hidden="true"></i> ${e.text}`,i.appendChild(t)}),a.style.borderColor=e.color,t.classList.add("active"),document.body.classList.add("game-modal-open")}function setupOriginMap(){let e=document.querySelectorAll(".map-hotspot"),t=document.getElementById("origin-modal");if("undefined"!=typeof gsap&&e.length>0&&(window.innerWidth>1024?(gsap.set(e,{opacity:0,scale:.5}),gsap.to(e,{duration:.8,opacity:1,scale:1,ease:"back.out(1.7)",stagger:.2,scrollTrigger:{trigger:".origin-map-container",start:"top 75%",toggleActions:"play none none none"}})):e.forEach(e=>{e.style.opacity="1",e.style.transform="scale(1)"})),!e.length||!t)return;let a=t.querySelector(".game-close-btn");e.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.matriz,a=originMapData[t];a&&populateOriginModal(a)})}),a.addEventListener("click",closeOriginModal),t.addEventListener("click",e=>{e.target===t&&closeOriginModal()})}function setupRecipeFilters(){let e=document.querySelector(".filter-bar"),t=document.getElementById("receitas");if(!e||!t||!t.classList.contains("active"))return;let a=e.querySelectorAll(".filter-btn"),n=document.querySelectorAll("#recipe-grid .cards_item"),o=e=>{n.forEach(t=>{let a=t.dataset.category;"todos"===e||a&&a.includes(e)?t.classList.remove("hidden"):t.classList.add("hidden")})};a.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.filter;a.forEach(e=>e.classList.remove("active")),e.classList.add("active"),o(t)})});let i=sessionStorage.getItem("filtroInicial");if(i){let s=e.querySelector(`.filter-btn[data-filter="${i}"]`);s&&(a.forEach(e=>e.classList.remove("active")),s.classList.add("active"),o(i)),sessionStorage.removeItem("filtroInicial")}else{let l=e.querySelector('.filter-btn[data-filter="todos"]');l&&(a.forEach(e=>e.classList.remove("active")),l.classList.add("active"),o("todos"))}}const dedicationBox=document.getElementById("class-dedication");let confettiTimer=null;function setupChatbotToggle(){let e=document.getElementById("chatbot-toggle-btn"),t=document.getElementById("chatbot-close-btn"),a=document.getElementById("chatbot-window");function n(){let t=a.classList.contains("hidden");if(a.classList.toggle("hidden"),e.classList.toggle("hidden"),t){let n=document.getElementById("chatbot-input");n&&setTimeout(()=>n.focus(),400)}}e&&a&&t&&(e.addEventListener("click",e=>{e.stopPropagation(),n()}),t.addEventListener("click",e=>{e.stopPropagation(),n()}),a.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("click",t=>{a.classList.contains("hidden")||e.contains(t.target)||(a.classList.add("hidden"),e.classList.remove("hidden"))}))}dedicationBox&&dedicationBox.addEventListener("mouseenter",()=>{!confettiTimer&&(triggerConfetti(dedicationBox),confettiTimer=setTimeout(()=>{confettiTimer=null},2e3))});const giftHuntGame={totalGifts:3,foundGifts:0,foundIds:[],init:function(){let e=document.querySelectorAll(".hidden-gift"),t=document.getElementById("gift-hunt-toast"),a=document.getElementById("gift-count");t&&0!==e.length&&e.forEach((e,n)=>{e.addEventListener("click",o=>{o.stopPropagation(),this.foundIds.includes(n)||(this.foundIds.push(n),this.foundGifts++,e.classList.add("found"),a&&(a.textContent=`${this.foundGifts}/${this.totalGifts}`,t.innerHTML=`<i class="fa-solid fa-gift"></i> ${this.foundGifts} / ${this.totalGifts}`),1===this.foundGifts&&t.classList.add("visible"),t.style.transform="translateX(-50%) scale(1.1)",setTimeout(()=>{t.style.transform="translateX(-50%) scale(1)"},200),"function"==typeof confetti&&confetti({particleCount:50,spread:60,origin:{x:o.clientX/window.innerWidth,y:o.clientY/window.innerHeight}}),this.foundGifts===this.totalGifts&&(t.style.backgroundColor="#f0fdf4",t.style.borderColor="#3D7938",t.innerHTML='<i class="fa-solid fa-check"></i> Completo!',setTimeout(()=>{this.triggerVictoryAnimation()},800)))})})},triggerVictoryAnimation:function(){let e=document.getElementById("gift-reveal-modal");if(e&&(e.classList.remove("hidden"),setTimeout(()=>{e.classList.add("active")},10),"function"==typeof confetti)){var t=Date.now()+3e3,a={startVelocity:30,spread:360,ticks:60,zIndex:11001};function n(e,t){return Math.random()*(t-e)+e}var o=setInterval(function(){var e=t-Date.now();if(e<=0)return clearInterval(o);var i=50*(e/3e3);confetti(Object.assign({},a,{particleCount:i,origin:{x:n(.1,.3),y:Math.random()-.2}})),confetti(Object.assign({},a,{particleCount:i,origin:{x:n(.7,.9),y:Math.random()-.2}}))},250)}}};function closeGiftModal(){let e=document.getElementById("gift-reveal-modal");e&&(e.classList.remove("active"),setTimeout(()=>{e.classList.add("hidden")},500))}function closeLetterModal(){let e=document.getElementById("letter-modal");e&&(e.classList.remove("active"),document.body.classList.remove("game-modal-open"))}function openLetterModal(e){let t=document.getElementById("letter-modal"),a=document.getElementById("letter-text-content");t&&a&&(a.textContent=e,t.classList.add("active"),document.body.classList.add("game-modal-open"))}function generateRandomPosition(){return{top:Math.floor(81*Math.random())+10+"%",left:Math.floor(71*Math.random())+15+"%",rotation:Math.floor(21*Math.random())-10}}const giftPalettes=[{papel:"#fcf8f0",fita:"#d92d2d"},{papel:"#d92d2d",fita:"#FFD700"},{papel:"#3D7938",fita:"#fcf8f0"},{papel:"#FFD700",fita:"#d92d2d"},{papel:"#ffffff",fita:"#3D7938"},{papel:"#8B0000",fita:"#00FF00"},{papel:"#191970",fita:"#C0C0C0"}];function renderWishes(e){let t=document.getElementById("wish-display-area"),a=document.getElementById("no-wishes-yet");if(t){if(t.innerHTML="",0===e.length){a&&(a.style.display="block");return}a&&(a.style.display="none"),e.forEach(e=>{let a=document.createElement("div");a.classList.add("christmas-gift-box");let n=generateRandomPosition();a.style.top=n.top,a.style.left=n.left,a.style.setProperty("--random-rotation",n.rotation);let o=0;if(e.message)for(let i=0;i<e.message.length;i++)o+=e.message.charCodeAt(i);let s=o%giftPalettes.length,l=giftPalettes[s];a.style.setProperty("--cor-papel",l.papel),a.style.setProperty("--cor-fita",l.fita),a.addEventListener("click",()=>{openLetterModal(e.message)}),a.innerHTML=`
            <div class="gift-ribbon"></div> 
            <div class="gift-message-content">
                <p class="gift-message-text">${e.message.substring(0,15)}...</p> 
            </div>
        `,t.appendChild(a)})}}function listenForWishes(){db&&db.collection("desejosNatal").orderBy("timestamp","desc").limit(30).onSnapshot(e=>{let t=[];e.forEach(e=>{e.data().timestamp&&t.push(e.data())}),renderWishes(t)},e=>{console.error("Erro ao escutar mensagens:",e)})}function sendWish(e,t){let a=document.getElementById("wish-status");if(!db){a.textContent="Erro: Banco de dados n\xe3o inicializado.",a.style.color="#d92d2d",a.style.display="block";return}db.collection("desejosNatal").add({message:e,timestamp:firebase.firestore.FieldValue.serverTimestamp()}).then(()=>{a.textContent="Presente pendurado com sucesso!",a.style.color="var(--color-primary)",t.reset()}).catch(e=>{a.textContent=`Erro ao pendurar presente: ${e.message}`,a.style.color="#d92d2d"}).finally(()=>{a.style.display="block",setTimeout(()=>{a.style.display="none"},3e3)})}function setupWishMural(){let e=document.getElementById("wish-form"),t=document.getElementById("wish-status");function a(a){a.preventDefault();let n=document.getElementById("wish-message").value.trim();if(!n){t.textContent="Por favor, escreva uma mensagem.",t.style.color="#d97706",t.style.display="block";return}t.textContent="Pendurando...",t.style.color="#d92d2d",closeLetterModal(),t.style.display="block",sendWish(n,e)}e&&t&&(e.removeEventListener("submit",a),e.addEventListener("submit",a),listenForWishes())}const FullPageCalendar={date:new Date,today:new Date,events:[{date:"2025-10-23",title:"A\xe7\xe3o Infantil & Idosos",type:"A\xe7\xe3o",desc:"Atividades l\xfadicas e roda de conversa.",loc:"Escola Gilberto Freyre | Parque Santana",pageId:"acao-infancia-detalhe",images:["Imagens/acaoinfancia3.webp","Imagens/acaoidosos4.webp"]},{date:"2025-10-24",title:"A\xe7\xe3o Idosos (Dia 2)",type:"A\xe7\xe3o",desc:"Continua\xe7\xe3o das atividades.",loc:"Parque Santana",pageId:"acao-idoso-detalhe",images:["Imagens/acaoidosos1.webp"]},{date:"2025-11-03",title:"A\xe7\xe3o Adultos",type:"A\xe7\xe3o",desc:"Sa\xfade do trabalhador e DCNT.",loc:"CDC",pageId:"acao-adulto-detalhe",images:["Imagens/acaoadultos1.webp"]},{date:"2025-11-05",title:"A\xe7\xe3o Adultos (Dia 2)",type:"A\xe7\xe3o",desc:"Palestras e avalia\xe7\xf5es.",loc:"CDC",pageId:"acao-adulto-detalhe",images:["Imagens/acaoadultos2.webp"]},{date:"2025-12-25",title:"Natal",type:"feriado",desc:"Feriado Nacional.",loc:"Em todo lugar",time:"Dia Todo",images:["Imagens/Farofa Festiva.webp","Imagens/Rabanada de Forno.webp"]}],init:function(){let e=document.getElementById("calendar-days-full");if(!e)return;let t=document.getElementById("prev-month-full"),a=document.getElementById("next-month-full");if(t){let n=t.cloneNode(!0);t.parentNode.replaceChild(n,t),n.addEventListener("click",()=>{this.date.setMonth(this.date.getMonth()-1),this.render()})}if(a){let o=a.cloneNode(!0);a.parentNode.replaceChild(o,a),o.addEventListener("click",()=>{this.date.setMonth(this.date.getMonth()+1),this.render()})}this.render()},render:function(){let e=document.getElementById("current-month-full"),t=document.getElementById("calendar-days-full");this.date.setDate(1);let a=this.date.getMonth(),n=this.date.getFullYear(),o=new Date(n,a+1,0).getDate(),i=new Date(n,a,0).getDate(),s=this.date.getDay(),l=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];e&&(e.innerText=`${l[a]} ${n}`),t&&(t.innerHTML="");for(let r=s;r>0;r--)t.innerHTML+=`<li class="inactive">${i-r+1}</li>`;for(let d=1;d<=o;d++){let c=document.createElement("li"),u=`<span>${d}</span>`,m=`${n}-${String(a+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`;d===this.today.getDate()&&a===this.today.getMonth()&&n===this.today.getFullYear()&&c.classList.add("current-day");let g=this.events.find(e=>e.date===m);if(g){c.classList.add("has-event",`type-${g.type}`),c.setAttribute("data-title",g.title);let f="fa-circle";"A\xe7\xe3o"===g.type&&(f="fa-handshake"),"feriado"===g.type&&(f="fa-star"),u+=`<div class="event-icon-marker"><i class="fa-solid ${f}"></i></div>`}c.innerHTML=u,c.addEventListener("click",()=>{document.querySelectorAll(".days-full li").forEach(e=>e.classList.remove("selected-day")),c.classList.add("selected-day"),this.showDetails(d,a,l,g)}),t.appendChild(c)}if("undefined"!=typeof gsap&&window.innerWidth>1024)gsap.fromTo(".days-full li",{opacity:0,y:20,scale:.9},{duration:.4,opacity:1,y:0,scale:1,stagger:.03,ease:"back.out(1.5)"});else{let p=document.querySelectorAll(".days-full li");p.forEach(e=>{e.style.opacity=1,e.style.transform="none"})}},showDetails:function(e,t,a,n){let o=document.getElementById("event-card-display"),i=`${e} de ${a[t]}`;if(n){let s="fa-calendar-check";"A\xe7\xe3o"===n.type&&(s="fa-users"),"feriado"===n.type&&(s="fa-star");let l=n.date.replace(/-/g,"")+"T090000",r=n.date.replace(/-/g,"")+"T120000",d=`https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(n.title)}&details=${encodeURIComponent(n.desc)}&location=${encodeURIComponent(n.loc)}&dates=${l}/${r}`,c="";n.images&&n.images.length>0?(c='<div class="event-gallery-stack">',n.images.forEach(e=>{c+=`<div class="gallery-stack-item"><img src="${e}" alt="Foto do evento"></div>`}),c+="</div>"):c='<div class="event-feature-image" style="height: 50px; background: transparent; box-shadow: none;"></div>';let u="";"A\xe7\xe3o"===n.type&&n.pageId&&(u=`
                    <a href="#" onclick="navigateTo('${n.pageId}'); return false;" class="cta-button" style="padding: 10px 20px; font-size:0.9em; flex:1; text-align:center;">
                        Ver Relato Completo
                    </a>
                `),o.innerHTML=`
                <div class="event-card-full">
                    ${c} <span class="date-badge">${i}</span>
                    <h2>${n.title}</h2>
                    <p>${n.desc}</p>
                    
                    <div class="event-meta-grid">
                        <div class="meta-item">
                            <i class="fa-solid fa-location-dot"></i>
                            <span>${n.loc}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fa-solid ${s}"></i>
                            <span style="text-transform: capitalize;">${n.type}</span>
                        </div>
                    </div>

                    <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:15px;">
                        ${u}
                        
                        <a href="${d}" target="_blank" class="cta-button" style="background: #fff; color: var(--color-primary) !important; border: 2px solid var(--color-primary); padding: 10px 20px; font-size:0.9em; flex:1; display: flex; align-items: center; justify-content: center; gap: 8px; text-align:center;">
                            <i class="fa-solid fa-calendar-plus"></i> Salvar
                        </a>
                    </div>
                </div>
            `}else o.innerHTML=`
                <div class="empty-state-full">
                    <i class="fa-regular fa-calendar"></i>
                    <h4 style="color: var(--color-secondary);">${i}</h4>
                    <p>N\xe3o h\xe1 eventos agendados para este dia.</p>
                </div>
            `}};function setupMusicToggle(){let e=document.getElementById("music-toggle"),t=document.getElementById("xmas-bgm");e&&t&&(t.volume=.3,e.addEventListener("click",()=>{t.paused?(t.play().catch(e=>{console.log("Autoplay bloqueado pelo navegador: ",e)}),e.classList.add("playing"),e.innerHTML='<i class="fa-solid fa-volume-high"></i>'):(t.pause(),e.classList.remove("playing"),e.innerHTML='<i class="fa-solid fa-music"></i>')}))}function updateChristmasCountdown(){let e=new Date,t=e.getFullYear(),a=new Date(t,11,25,0,0,0);e>a&&a.setFullYear(t+1);let n=a-e,o=Math.floor(n/864e5),i=Math.floor(n/36e5%24),s=Math.floor(n/1e3/60%60),l=Math.floor(n/1e3%60),r=Math.floor(o/30),d=o%30,c=document.getElementById("cd-months"),u=document.getElementById("box-months"),m=document.getElementById("lbl-months"),g=document.getElementById("cd-days"),f=document.getElementById("cd-hours"),p=document.getElementById("cd-minutes"),h=document.getElementById("cd-seconds");h&&(r>0?(c.innerText=r,u&&(u.style.display="flex"),m&&(m.innerText=1===r?"m\xeas":"meses")):u&&(u.style.display="none"),g&&(g.innerText=d<10?"0"+d:d),f&&(f.innerText=i<10?"0"+i:i),p&&(p.innerText=s<10?"0"+s:s),h&&(h.innerText=l<10?"0"+l:l))}function setupGrinchMode(){let e=document.getElementById("grinch-btn"),t=document.body,a="ativado"===localStorage.getItem("modoGrinch");function n(t){t?(e.innerHTML='<i class="fa-solid fa-tree"></i> Restaurar Natal',e.setAttribute("aria-label","Ativar efeitos de Natal")):(e.innerHTML='<i class="fa-regular fa-face-frown"></i> Modo Grinch (Sem Natal)',e.setAttribute("aria-label","Desativar efeitos de Natal"))}a&&(t.classList.remove("tema-natal"),n(!0)),e&&e.addEventListener("click",()=>{let e=t.classList.contains("tema-natal");e?(t.classList.remove("tema-natal"),localStorage.setItem("modoGrinch","ativado"),n(!0),alert("\uD83C\uDF84 Natal pausado! O Grinch roubou os enfeites.")):(t.classList.add("tema-natal"),localStorage.setItem("modoGrinch","desativado"),n(!1))})}setupHeroCarousel(),document.addEventListener("DOMContentLoaded",()=>{setupChatbotToggle(),setupTextToSpeech(),giftHuntGame.init();let e=document.getElementById("gift-reveal-modal");e&&e.addEventListener("click",e=>{e.target.closest(".gift-container")||e.target.closest(".close-modal")||closeGiftModal()});let t=document.getElementById("letter-modal");t&&t.addEventListener("click",e=>{e.target===t&&closeLetterModal()}),setupMusicToggle()}),document.addEventListener("mousemove",function(e){if(!(window.innerWidth<=1024)&&.3>Math.random()){let t=document.createElement("div");t.classList.add("magic-dust"),t.style.left=e.pageX+"px",t.style.top=e.pageY+"px";let a=10*Math.random()+10;t.style.width=a+"px",t.style.height=a+"px";let n=["#d92d2d","#3D7938","#FFD700","#c0392b"];t.style.background=n[Math.floor(Math.random()*n.length)],document.body.appendChild(t),setTimeout(()=>{t.remove()},1200)}}),setInterval(updateChristmasCountdown,1e3),updateChristmasCountdown(),document.addEventListener("DOMContentLoaded",()=>{setupGrinchMode()});